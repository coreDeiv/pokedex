<script>"use-strict";

  const pokemonCard = document.querySelector(".p-pg-row");

  let offset = 1;
  let limit = 7;

  document.querySelector("#show-more").addEventListener("click", (e) => {
    e.preventDefault();
    offset += limit;
    fetchPokemons(offset, limit);
  });

  function fetchPokemon(id) {
    return fetch(`https://pokeapi.co/api/v2/pokemon/${id}/`)
      .then((response) => response.json())
      .then((data) => {
        return data;
      })
      .catch((error) => {
        console.log(error);
      });
  }

  function fetchPokemons(offset, limit) {
    for (let i = offset; i <= offset + limit; i++) {
      fetchPokemon(i + 1).then((data) => {
        console.log(data);
        const pokemonCardClone = pokemonCard.cloneNode(true);
        pokemonCardClone.querySelector(".p-pg-item_name").innerHTML = data.name;
        pokemonCardClone.querySelector(".p-pg-item_sprite > img").src = data.sprites.other.dream_world.front_default;
        pokemonCardClone.querySelector(".p-pg-item_type").innerHTML = data.types[0].type.name;
        pokemonCardClone.querySelector(".p-pg-item_abilities").innerHTML = data.abilities[0].ability.name;
        pokemonCard.parentNode.appendChild(pokemonCardClone);
      });
    }
  }

  fetchPokemons(offset, limit);</script>